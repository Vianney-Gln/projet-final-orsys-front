<app-navigation></app-navigation>

<h2 class="text-center mt-3">Ajouter une réservation</h2>
<div class="row d-flex justify-content-center ">
  <div class="col-6 mt-4 border rounded p-4 ">
    <form class="" [formGroup]="signupForm">
      <label for="username">Date de début</label>
      <input type="date" class="form-control input-date" formControlName="dateHeureDebut">
      <label class="mt-3" for="email">Date de fin</label>
      <input type="date" class="form-control input-date" formControlName="dateHeureFin">
      <div formArrayName="requestedFiles">
        <button (click)="addParasol()" class="btn btn-primary mt-3">Ajouter Parasols</button>
        <ng-container *ngIf="formRequestedFiles">
          <div class="form-group mt-3 container-parasols"
            *ngFor="let parasol of formRequestedFiles.controls; let i = index">
            <ng-container [formGroupName]="i">
              <span>{{formRequestedFiles.controls[i].get('name')?.value}}</span>
              <label>File</label>
              <select *ngIf="formRequestedFiles" formControlName="selectedFile" class="select-parasol">
                <option>Selectionnez un emplacement</option>
                <option *ngFor="let item of files">{{item?.numero}}</option>
              </select>
            </ng-container>
          </div>
        </ng-container>
      </div>
      <div class="mt-3 container-remarques"><label>Remarques</label>
        <textarea formControlName="remarques" class="textarea"></textarea>
      </div>
      <div class="button-and-message">
        <button class="btn btn-primary mt-3" (click)="submitHandler()" [disabled]="!signupForm.valid"
          type="submit">Submit</button>
        <span *ngIf="message">{{message}}</span>
      </div>
    </form>
  </div>
</div>
